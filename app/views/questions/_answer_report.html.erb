<!-- Report Container -->
<div class="report-container">
    <div class="compare-stats" id="c-answer">
      <div class="demographic">
        <div class="title">
          Demographic:
        </div>
        <div class="genders">
          <strong><%= answer.percent_gender[:males] %>%</strong> Male
          <strong><%= answer.percent_gender[:females] %>%</strong> Female
        </div>
        <div class="age">
          Average age: <strong><%= answer.average_age %></strong> years old
        </div>
      </div>

      <!-- TODO Each user should have a city, should be able to remove this -->
      <% has_city = user_signed_in? ? answer.user.location.city.present? : false %>
      <% has_country = user_signed_in? ? answer.user.location.country.present? : false %>
      <div class="average">
        <% if has_city %>
          <p class="city" style="display: none;"><%= answer.formatted_diff_average 'city' %></p>
        <% end %>
          <p class="world"><%= answer.formatted_diff_average 'world' %></p>
        <% if has_country %>
          <p class="country" style="display: none;"><%= answer.formatted_diff_average 'country' %></p>
        <% end %>
      </div>
    </div>

    <%= render partial: 'common/visualization', locals: {answer: answer, has_city: has_city} %>
</div>

<div class="share-answer">
  <div class="share-answer-text">Share this answer! Better yet, <%= link_to 'Sign Up', new_registration_path(resource_name), id: "share-signup-btn" if !user_signed_in? %> and gain 5 points at the same time!</div>
  <%= render partial: "questions/share", locals: {
            id: question.id,
            url: "#{request.protocol}#{request.host_with_port}" + question_path(question),
            title: "Check out this question and see how you compare to the rest of the world!!",
            description: "Check out this question and see how you compare to the rest of the world!!",
            image: "#{request.protocol}#{request.host_with_port}" + question_path(question)
          }
  %>
</div>
