<script>
var random_avatar;
$('#username-input').keydown(function(){
  random_avatar = Math.floor((Math.random() * 50) + 1);

  $('.avatar-image').css("background-color", "white");

  $('.avatar-image')[0].src = "images/avatars/" + String(random_avatar) + ".png";
  $('#username-output')[0].innerHTML = $('#username-input')[0].value;
  $('#avatar')[0].value = random_avatar;
});

</script>

<!-- Share New Question Modal -->
<div class="modal fade" id="shareSignupModal" tabindex="-1" role="dialog" aria-labelledby="shareSignupModal" aria-hidden="true">
    <div class="share-modal-content-container">
      <p>Manage your Uploads, Add Favorites, Create a Custom Avatar, & more for FREE!</p>

      <%= image_tag("anonprofile.png", size: "70x70", class: "avatar-image") %>
      <br/>
      <span id="username-output"> anonymous </span>

      <div class="signup-form">
        <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), html: {class: "form"}) do |f| %>
          <%= hidden_field_tag 'avatar' %>
          <div class="signup-input">
            <div class="input-username">
              <%= f.text_field :username, placeholder: "Username", class: "input-box", id: "username-input" %>
            </div>
            <div class="input-password">
              <%= f.password_field :password, placeholder: "Password", class: "input-box", id: "password" %>
            </div>
          </div>
          <div class="signup-links-bottom">
            <div id="signup-start">
              <%= f.submit "Let's get started!", class: "signup-button" %>
            </div>
            <div class="terms-notice">
              By signing up, you agree to Arima's <a href="/terms">Terms and Conditions</a>.
            </div>
          </div>
        <% end %>
      </div>
    </div>
</div><!-- /.modal -->
