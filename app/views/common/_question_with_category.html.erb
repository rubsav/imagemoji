<script type="text/javascript">
$(document).ready(function() {
  var question = "<%= question.group_id %>";
  if (question == "1") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");

  } else if (question == "2") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "3") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "4") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "5") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "6") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("overflow", "hidden");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "7") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "8") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "9") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "10") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "12") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "13") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  } else if (question == "14") {
    
      $("<%= "." + question.id.to_s %>").css("background-image", "url('/system/uploads/" + "<%= question.image_link %>" + "')");
      $("<%= "." + question.id.to_s %>").css("background-repeat", "no-repeat");
      $("<%= "." + question.id.to_s %>").css("background-position", "center center");
      $("<%= "." + question.id.to_s %>").css("background-size", "600px");
  }
});

</script>

<div class="question-with-category-wrapper <%= question.id.to_s %>">
  <!-- <div class="votes <%#= "invisible" if question.shared_image == true %>">
    <div class="upvote">
      <%# if cookies[:guest] == nil %>
        <%#= link_to image_tag('upvote_grey.png', id: "upvote-image-#{question.id}", class: "vote-image"), upvote_question_path(:id => question.id), :method => :put, :remote => true %>
      <%# elsif Vote.where(:user_id => cookies[:guest]).where(:question_id => question.id).pluck(:vote_type)[0] == "upvote" %>
        <%#= link_to image_tag('upvote_blue.png', id: "upvote-image-#{question.id}", class: "vote-image"), upvote_question_path(:id => question.id), :method => :put, :remote => true %>
      <%# else %>
        <%#= link_to image_tag('upvote_grey.png', id: "upvote-image-#{question.id}", class: "vote-image"), upvote_question_path(:id => question.id), :method => :put, :remote => true %>
      <%# end %>
    </div>
    <div id="votecount-<%#= question.id %>" class="counter">
      <%#= "#{question.votecount}" %>
    </div>
    <div class="downvote">
      <%# if cookies[:guest] == nil %>
        <%#= link_to image_tag('downvote_grey.png', id: "downvote-image-#{question.id}", class: "vote-image"), downvote_question_path(:id => question.id), :method => :put, :remote => true %>
      <%# elsif Vote.where(:user_id => cookies[:guest]).where(:question_id => question.id).pluck(:vote_type)[0] == "downvote" %>
        <%#= link_to image_tag('downvote_orange.png', id: "downvote-image-#{question.id}", class: "vote-image"), downvote_question_path(:id => question.id), :method => :put, :remote => true %>
      <%# else %>
        <%#= link_to image_tag('downvote_grey.png', id: "downvote-image-#{question.id}", class: "vote-image"), downvote_question_path(:id => question.id), :method => :put, :remote => true %>
      <%# end %>
    </div>
  </div> -->

  <div class="question-with-category-title-container">
    <a href="<%= question_path(question) %>" title="<%= question.label %>" class="question-link">

      <div class="question-icon-container">
      <% if user_signed_in? && current_user.username.present? %>
      <%= link_to "#{current_user.username[0].capitalize}", custom_show_path(:username => current_user.username), class: "nav-user-circle" %>
      <% end %>
      <%= link_to image_tag("anonprofile.png", size: "40x40"), new_registration_path(resource_name), id: "anonav-btn" if !user_signed_in? %>
        <span class="question-title"><%= question.label %></span>
        by
        <%=
        if User.where(id: question.user_id).first.username.nil? || User.where(id: question.user_id).first.username.empty?
          "anonymous"
        else
          link_to User.where(id: question.user_id).first.username, custom_show_path(:username => User.where(id: question.user_id).first.username)
        end
         %>
        <%= image_tag("category-icons/#{question.group_id}.png", class: "question-with-category-icon"  ) %>
      </div>

        <!-- <div class="question-dates <%#= "invisible" if question.shared_image %>">
          <%# if !answered %>
            <div class="num-answers">
              <%#= "#{question.answers.count} #{question.answers.count == 1 ? 'person answered' : 'people answered'}" %>
            </div>
          <%# end %>

          <%# if answered %>
            <div class="answered-when">
              <p class="question-answered-date">
                <%#= "#{question.answers.count} #{question.answers.count == 1 ? 'person' : 'people'}" %> answered.
                You answered
                  <%# num_days = (Date.today - answer.updated_at.to_date).to_i %>
                  <%#= num_days >= 1 ? (num_days > 1 ? "#{num_days} days ago" : "#{num_days} day ago") : "today" %>
              </p>
            </div>
          <%# end %>
        </div> -->
    </a>
  </div>
  <div class="clearfix"></div>
</div>
